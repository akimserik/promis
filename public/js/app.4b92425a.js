(function(e){function t(t){for(var a,o,s=t[0],c=t[1],d=t[2],u=0,m=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(m.length)m.shift()();return n.push.apply(n,d||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,s=1;s<r.length;s++){var c=r[s];0!==i[c]&&(a=!1)}a&&(n.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},i={app:0},n=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var l=c;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},1610:function(e,t,r){"use strict";var a=r("50b0"),i=r.n(a);i.a},2:function(e,t){},3:function(e,t){},4:function(e,t){},"448f":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[r("v-text-field",e._g(e._b({attrs:{label:e.label,value:e.computedDate,hint:"DD/MM/YYYY","persistent-hint":"","show-current":"false","prepend-icon":"mdi-calendar",readonly:"",required:e.requiredField,"error-messages":e.dateErrors},on:{blur:function(t){return e.$v.computedDate.$touch()}}},"v-text-field",i,!1),a))]}}]),model:{value:e.menuDate,callback:function(t){e.menuDate=t},expression:"menuDate"}},[r("v-date-picker",{on:{input:e.updateValue}},[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.cancel}},[e._v("Cancel")])],1)],1)},i=[],n=r("8883"),o=r("b5ae"),s={props:{date:{type:[String],default:""},label:{type:String,default:""},requiredField:{type:Boolean,default:!1},errorMessages:{type:Array,default:function(){return[]}}},validations:{computedDate:{required:o["required"]}},data:function(){return{menuDate:!1}},computed:{computedDate:function(){return Object(n["b"])(this.date)},dateErrors:function(){var e=this.errorMessages;return this.requiredField&&this.$v.computedDate.$dirty?(!this.$v.computedDate.required&&e.push("".concat(this.label," is required")),e):e}},methods:{updateValue:function(e){this.menuDate=!1,this.$emit("input",e)},cancel:function(){this.menuDate=!1,this.$emit("input",this.date)},created:function(){this.$v.$reset()}}},c=s,d=r("2877"),l=r("6544"),u=r.n(l),m=r("8336"),p=r("2e4b"),h=r("e449"),v=r("2fa4"),f=r("8654"),g=Object(d["a"])(c,a,i,!1,null,null,null);t["default"]=g.exports;u()(g,{VBtn:m["a"],VDatePicker:p["a"],VMenu:h["a"],VSpacer:v["a"],VTextField:f["a"]})},"477e":function(e,t,r){"use strict";var a=r("7f8e"),i=r.n(a);i.a},5:function(e,t){},"50b0":function(e,t,r){},"53f3":function(e){e.exports=JSON.parse('[{"title":"My Utilization This Month","sales":[325,123,273,573],"color":"teal","labels":["Week 1","Week 2","Week 3","Week 4"]},{"title":"My Utilization This Year","sales":[746,415,943,1372,983,651,837,639],"color":"green","labels":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug"]}]')},"54d3":function(e,t,r){},"55f6":function(e,t,r){"use strict";var a=r("9e98"),i=r.n(a);i.a},"56d7":function(e,t,r){"use strict";r.r(t);var a={};r.r(a),r.d(a,"namespaced",(function(){return b})),r.d(a,"state",(function(){return y})),r.d(a,"mutations",(function(){return x})),r.d(a,"actions",(function(){return E}));var i={};r.r(i),r.d(i,"namespaced",(function(){return w})),r.d(i,"state",(function(){return j})),r.d(i,"mutations",(function(){return $})),r.d(i,"actions",(function(){return S})),r.d(i,"getters",(function(){return T}));var n={};r.r(n),r.d(n,"namespaced",(function(){return I})),r.d(n,"state",(function(){return D})),r.d(n,"mutations",(function(){return k})),r.d(n,"actions",(function(){return O}));var o={};r.r(o),r.d(o,"namespaced",(function(){return V})),r.d(o,"state",(function(){return P})),r.d(o,"mutations",(function(){return q})),r.d(o,"actions",(function(){return A})),r.d(o,"getters",(function(){return L}));var s={};r.r(s),r.d(s,"namespaced",(function(){return M})),r.d(s,"state",(function(){return R})),r.d(s,"mutations",(function(){return U})),r.d(s,"actions",(function(){return H}));r("4de4"),r("4160"),r("d3b7"),r("ac1f"),r("5319"),r("159b"),r("ddb0"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var c=r("2b0e"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("v-main",[r("app-nav"),r("NotificationContainer"),r("router-view",{staticClass:"page"})],1)],1)},l=[],u=r("5530"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-app-bar",{attrs:{app:"",color:"indigo",dark:""}},[e.loggedIn?a("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}):e._e(),a("v-toolbar-title",[e._v(e._s(e.$route.name))]),a("v-spacer"),e.loggedIn?a("v-btn",{staticClass:"button",attrs:{text:"",small:""}},[e._v(" "+e._s(e.currentUser.user.name)+" ")]):e._e(),e.loggedIn?a("v-btn",{staticClass:"button",attrs:{text:"",small:""},on:{click:e.logout}},[e._v("Logout")]):a("v-btn",{staticClass:"button",attrs:{to:"/login",text:"",small:""}},[e._v("Login")])],1),e.loggedIn?a("v-navigation-drawer",{attrs:{app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[a("v-list-item",[a("v-img",{staticClass:"mx-2",attrs:{src:r("9b19"),"max-width":"150"}})],1),a("v-list-item",[a("v-divider")],1),a("v-list-item",{attrs:{link:"",to:"/"}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-home")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Home")])],1)],1),e.allowProjects?a("v-list-item",{attrs:{link:"",to:"/projects"}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-contacts")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Projects")])],1)],1):e._e(),e.allowEmployees?a("v-list-item",{attrs:{link:"",to:"/employees"}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-teach")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Employees")])],1)],1):e._e(),a("v-list-item",{attrs:{link:"",to:"/timesheet"}},[a("v-list-item-action",[a("v-icon",[e._v("mdi-mail")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("My Timesheet")])],1)],1)],1)],1):e._e()],1)},p=[],h=r("2f62"),v=(r("c740"),r("a434"),r("bc3a")),f=v.create({baseURL:"api/v1",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"},timeout:5e3});f.interceptors.response.use((function(e){return e}),(function(e){return console.log(e),401===e.response.status&&(F.dispatch("authUser/logout"),delete v.defaults.headers.common["Authorization"]),Promise.reject(e)}));var g={login:function(e){return f.post("/users/login",e)},getProjects:function(){return f.get("/projects")},getMyProjects:function(){return f.get("/projects/my-projects")},createNewProject:function(e){return f.post("/projects",e)},updateProject:function(e){return f.patch("/projects/".concat(e._id),e)},getEmployees:function(){return f.get("/users")},getOneEmployee:function(e){return f.get("/users/".concat(e))},createNewEmployee:function(e){return f.post("/users",e)},updateEmployee:function(e){return f.patch("/users/".concat(e._id),e)},setUserToken:function(e){f.defaults.headers.common["Authorization"]="Bearer ".concat(e)},clearAuthHeader:function(){delete f.defaults.headers.common["Authorization"]},getTimesheet:function(){return f.get("/timesheets/my-stats")},updateTimesheet:function(e){return f.patch("/timesheets/".concat(e.doc_id),e)},createTimesheet:function(e){return f.post("/timesheets",e)},deleteTimesheet:function(e){return f.delete("/timesheets/".concat(e.doc_id))}},b=!0,y={projects:{data:{data:[]},requestedAt:Date,results:0,status:""},myProjects:{data:{data:[]},requestedAt:Date,results:0,status:""}},x={SET_PROJECTS:function(e,t){e.projects=t},UPDATE_PROJECT:function(e,t){e.projects.data.data.splice(e.projects.data.data.findIndex((function(e){return e.id==t.id})),1,t)},ADD_PROJECT:function(e,t){e.projects.data.data.push(t)},SET_MY_PROJECTS:function(e,t){e.myProjects=t}},E={fetchProjects:function(e){var t=e.commit,r=e.dispatch;return g.getProjects().then((function(e){t("SET_PROJECTS",e.data)})).catch((function(e){var t=e.response?e.response.data.message:e,a={type:"error",message:t};throw r("notification/add",a,{root:!0}),e}))},fetchMyProjects:function(e){var t=e.commit,r=e.dispatch;return g.getMyProjects().then((function(e){t("SET_MY_PROJECTS",e.data.data)})).catch((function(e){var t=e.response?e.response.data.message:e,a={type:"error",message:t};throw r("notification/add",a,{root:!0}),e}))},updateProject:function(e,t){var r=e.commit,a=e.dispatch;return g.updateProject(t).then((function(){r("UPDATE_PROJECT",t)})).catch((function(e){var t=e.response?e.response.data.message:e,r={type:"error",message:t};throw a("notification/add",r,{root:!0}),e}))},createProject:function(e,t){var r=e.commit,a=e.dispatch;return g.createNewProject(t).then((function(){r("ADD_PROJECT",t)})).catch((function(e){var t=e.response?e.response.data.message:e,r={type:"error",message:t};throw a("notification/add",r,{root:!0}),e}))}},_=r("9ed4"),C=r.n(_),w=!0,j={user:null},$={SET_USER_DATA:function(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(t)),g.setUserToken(t.token)},CLEAR_USER_DATA:function(){localStorage.getItem("user")&&(localStorage.removeItem("user"),location.reload(),g.clearAuthHeader())}},S={login:function(e,t){var r=e.commit;return g.login(t).then((function(e){var t=e.data;r("SET_USER_DATA",t)}))},logout:function(e){var t=e.commit;t("CLEAR_USER_DATA")}},T={loggedIn:function(e){return!!e.user},currentUser:function(e){return e.user?e.user.data:e.user},tokenExpired:function(e){if(e.user){var t=C.a.decode(e.user.token),r=t.exp;if(r<((new Date).getTime()+1)/1e3)return!0}return!1}},I=!0,D={employees:{data:{data:[]},requestedAt:Date,results:0,status:""},employee:{}},k={SET_EMPLOYEES:function(e,t){e.employees=t},SET_EMPLOYEE:function(e,t){e.employee=t.data},CLEAR_EMPLOYEE:function(e){e.employee={}},UPDATE_EMPLOYEE:function(e,t){e.employees.data.data.splice(e.employees.data.data.findIndex((function(e){return String(e.id)==String(t.id)})),1,t)},ADD_EMPLOYEE:function(e,t){e.employees.data.data.push(t)}},O={fetchEmployees:function(e){var t=e.commit,r=e.dispatch;return g.getEmployees().then((function(e){t("SET_EMPLOYEES",e.data)})).catch((function(e){var t=e.response?e.response.data.message:e,a={type:"error",message:t};throw r("notification/add",a,{root:!0}),e}))},fetchEmployee:function(e,t){var r=e.commit,a=e.dispatch;return g.getOneEmployee(t).then((function(e){r("SET_EMPLOYEE",e.data)})).catch((function(e){var t=e.response?e.response.data.message:e,r={type:"error",message:t};throw a("notification/add",r,{root:!0}),e}))},clearCurrentEmployee:function(e){var t=e.commit;t("CLEAR_EMPLOYEE")},updateEmployee:function(e,t){var r=e.commit,a=e.dispatch;return g.updateEmployee(t).then((function(){r("UPDATE_EMPLOYEE",t)})).catch((function(e){var t=e.response?e.response.data.message:e,r={type:"error",message:t};throw a("notification/add",r,{root:!0}),e}))},createEmployee:function(e,t){var r=e.commit,a=e.dispatch;return g.createNewEmployee(t).then((function(){r("ADD_EMPLOYEE",t)})).catch((function(e){var t=e.response?e.response.data.message:e,r={type:"error",message:t};throw a("notification/add",r,{root:!0}),e}))}},V=!0,P={notifications:[]},N=1,q={PUSH:function(e,t){e.notifications.push(Object(u["a"])(Object(u["a"])({},t),{},{id:N++}))},DELETE:function(e,t){e.notifications=e.notifications.filter((function(e){return e.id!==t.id}))}},A={add:function(e,t){var r=e.commit;r("PUSH",t)},remove:function(e,t){var r=e.commit;r("DELETE",t)}},L={currentNotification:function(e){return e.notifications}},M=!0,R={timesheet:{data:{data:[]},requestedAt:Date,results:0,status:""}},U={SET_TIMESHEET:function(e,t){e.timesheet=t},UPDATE_TIMESHEET:function(){},ADD_TIMESHEET:function(){},DELETE_TIMESHEET:function(){}},H={fetchTimesheet:function(e){var t=e.commit,r=e.dispatch;return g.getTimesheet().then((function(e){t("SET_TIMESHEET",e.data)})).catch((function(e){var t=e.response?e.response.data.message:e,a={type:"error",message:t};throw r("notification/add",a,{root:!0}),e}))},updateTimesheet:function(e,t){var r=e.commit,a=e.dispatch;return g.updateTimesheet(t).then((function(){r("UPDATE_TIMESHEET",t)})).catch((function(e){var t=e.response?e.response.data.message:e,r={type:"error",message:t};throw a("notification/add",r,{root:!0}),e}))},createTimesheet:function(e,t){var r=e.commit,a=e.dispatch;return g.createTimesheet(t).then((function(){r("ADD_TIMESHEET",t)})).catch((function(e){var t=e.response?e.response.data.message:e,r={type:"error",message:t};throw a("notification/add",r,{root:!0}),e}))},deleteTimesheet:function(e,t){var r=e.commit,a=e.dispatch;return g.deleteTimesheet(t).then((function(){r("DELETE_TIMESHEET",t)})).catch((function(e){var t=e.response?e.response.data.message:e,r={type:"error",message:t};throw a("notification/add",r,{root:!0}),e}))}};c["a"].use(h["a"]);var F=new h["a"].Store({modules:{projects:a,authUser:i,employees:n,notification:o,timesheet:s}}),B=Object(u["a"])({},Object(h["c"])("authUser",["loggedIn","currentUser","tokenExpired"]));function z(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);F.commit("authUser/SET_USER_DATA",t)}}function K(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e),r=C.a.decode(t.token),a=r.exp;if(a>((new Date).getTime()+1)/1e3)return!0}return!1}var Y={components:{},props:{source:String},data:function(){return{drawer:null}},computed:Object(u["a"])(Object(u["a"])({},B),{},{allowEmployees:function(){return"admin"===this.currentUser.user.role||"HR"===this.currentUser.user.role},allowProjects:function(){return"admin"===this.currentUser.user.role||"HR"===this.currentUser.user.role||"support"===this.currentUser.user.role}}),methods:{logout:function(){this.$store.dispatch("authUser/logout")}}},Z=Y,Q=r("2877"),J=r("6544"),W=r.n(J),G=r("40dc"),X=r("5bc1"),ee=r("8336"),te=r("ce7e"),re=r("132d"),ae=r("adda"),ie=r("8860"),ne=r("da13"),oe=r("1800"),se=r("5d23"),ce=r("f774"),de=r("2fa4"),le=r("2a7f"),ue=Object(Q["a"])(Z,m,p,!1,null,null,null),me=ue.exports;W()(ue,{VAppBar:G["a"],VAppBarNavIcon:X["a"],VBtn:ee["a"],VDivider:te["a"],VIcon:re["a"],VImg:ae["a"],VList:ie["a"],VListItem:ne["a"],VListItemAction:oe["a"],VListItemContent:se["a"],VListItemTitle:se["b"],VNavigationDrawer:ce["a"],VSpacer:de["a"],VToolbarTitle:le["a"]});var pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",e._l(e.notifications,(function(e){return r("NotificationBar",{key:e.id,attrs:{notification:e}})})),1)},he=[],ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-alert",{attrs:{dismissible:"",dense:"",type:e.notificationTypeClass}},[r("p",[e._v(e._s(e.notification.message))])])},fe=[],ge={props:{notification:{type:Object,required:!0}},data:function(){return{timeout:null}},mounted:function(){var e=this;this.timeout=setTimeout((function(){return e.remove(e.notification)}),5e3)},beforeDestroy:function(){clearTimeout(this.timeout)},computed:{notificationTypeClass:function(){return this.notification.type}},methods:Object(h["b"])("notification",["remove"])},be=ge,ye=r("0798"),xe=Object(Q["a"])(be,ve,fe,!1,null,null,null),Ee=xe.exports;W()(xe,{VAlert:ye["a"]});var _e={components:{NotificationBar:Ee},data:function(){return{}},computed:Object(h["d"])("notification",["notifications"])},Ce=_e,we=Object(Q["a"])(Ce,pe,he,!1,null,null,null),je=we.exports,$e={components:{AppNav:me,NotificationContainer:je},computed:Object(u["a"])(Object(u["a"])({},B),Object(h["d"])(["authUser","authUser"])),created:function(){this.loggedIn||this.$router.push({name:"Login"})}},Se=$e,Te=r("7496"),Ie=r("f6c4"),De=Object(Q["a"])(Se,d,l,!1,null,null,null),ke=De.exports;W()(De,{VApp:Te["a"],VMain:Ie["a"]});var Oe=r("f309");c["a"].use(Oe["a"]);var Ve=new Oe["a"]({}),Pe=r("8c4f"),Ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.loggedIn?r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",[r("v-card",[r("v-card-title",[e._v("My Info")]),r("v-card-text",[r("v-row",[r("v-col",[r("p",{staticClass:"body-2"},[r("span",{staticClass:"font-weight-bold"},[e._v("Name: ")]),e._v(" "+e._s(e.currentUser.user.firstName)+" "+e._s(e.currentUser.user.lastName)+" ")]),r("p",{staticClass:"body-2"},[r("span",{staticClass:"font-weight-bold"},[e._v("Position: ")]),e._v(" "+e._s(e.currentUser.user.position)+" ")]),r("p",{staticClass:"body-2"},[r("span",{staticClass:"font-weight-bold"},[e._v("Department: ")]),e._v(" "+e._s(e.currentUser.user.department)+" ")])]),r("v-col",[r("p",{staticClass:"body-2"},[r("span",{staticClass:"font-weight-bold"},[e._v("Office: ")]),e._v(" "+e._s(e.currentUser.user.office)+" ")]),r("p",{staticClass:"body-2"},[r("span",{staticClass:"font-weight-bold"},[e._v("Hired date: ")]),e._v(" "+e._s(e.hiredDate)+" ")]),r("p",{staticClass:"body-2"},[r("span",{staticClass:"font-weight-bold"},[e._v("System role: ")]),e._v(" "+e._s(e.currentUser.user.role)+" ")])])],1)],1)],1)],1),e._l(e.statistics,(function(e){return r("v-col",{key:""+e.title},[r("StatisticCard",{attrs:{statistic:e}})],1)}))],2),r("MyProjects",{attrs:{currentUser:e.currentUser.user}})],1):e._e()},qe=[],Ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",[e._v(e._s(e.statistic.title))]),r("v-card-text",{staticClass:"display-2"},[e._v(e._s(e.statistic.value))])],1)},Le=[],Me={name:"StatisticCard",props:{statistic:{type:Object,required:!0}}},Re=Me,Ue=r("b0af"),He=r("99d9"),Fe=Object(Q["a"])(Re,Ae,Le,!1,null,"41adfa6a",null),Be=Fe.exports;W()(Fe,{VCard:Ue["a"],VCardText:He["b"],VCardTitle:He["c"]});var ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"item-key":"engagementCode","group-by":"me","hide-default-footer":""},on:{"dblclick:row":e.onRowDoubleClick},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-toolbar-title",[e._v("My Projects")]),e.dialogManager?r("ProjectManagerEditionDialog",{attrs:{project:e.editedItem,inCharges:e.inCharges},on:{closeDialogManager:e.closeDialogManager}}):e._e()],1)]},proxy:!0},{key:"group.header",fn:function(t){var a=t.items,i=t.isOpen,n=t.toggle;return[r("th",{attrs:{colspan:"10"}},[r("v-icon",{on:{click:n}},[e._v(e._s(i?"mdi-minus-circle-outline":"mdi-plus-circle-outline")+" ")]),e._v(" Me: "+e._s(a[0].me)+" ")],1)]}},{key:"item.actions",fn:function(t){var a=t.item;return["manager"==a.me?r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.openManagerDialog(a)}}},[e._v("mdi-pencil")]):e._e()]}}])})},Ke=[],Ye=(r("c975"),r("d81d"),r("8883")),Ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"800px"},scopedSlots:e._u([{key:"project.feeKZT",fn:function(t){var r=t.item;return[e._v(e._s(e._f("amount")(r.feeKZT)))]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("NotificationContainer"),r("v-card-title",[r("span",{staticClass:"headline"},[e._v("Project: "+e._s(e.project.clientName)+" ("+e._s(e.project.engagementCode)+")")]),r("v-spacer"),r("v-card-actions",[r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1)],1),r("v-card-text",[r("v-container",[r("v-expansion-panels",{staticClass:"mb-6",attrs:{inset:""}},[r("v-expansion-panel",{staticClass:"ViewPanel"},[r("v-expansion-panel-header",{attrs:{"expand-icon":"mdi-menu-down"}},[e._v("Project info (expand for details)")]),r("v-expansion-panel-content",[r("v-row",[r("v-col",[r("p",{staticClass:"body-2"},[r("span",{staticClass:"font-weight-bold"},[e._v("Service line: ")]),e._v(" "+e._s(e.project.serviceLine)+" ")]),r("p",{staticClass:"body-2"},[r("span",{staticClass:"font-weight-bold"},[e._v("Contract subject: ")]),e._v(" "+e._s(e.project.contractSubject)+" ")]),r("p",{staticClass:"body-2"},[r("span",{staticClass:"font-weight-bold"},[e._v("Location: ")]),e._v(" "+e._s(e.project.location)+" ")]),r("p",{staticClass:"body-2"},[r("span",{staticClass:"font-weight-bold"},[e._v("Partner: ")]),e._v(" "+e._s(e.project.partner.name)+" ")]),r("p",{staticClass:"body-2"},[r("span",{staticClass:"font-weight-bold"},[e._v("Manager: ")]),e._v(" "+e._s(e.project.manager.name)+" ")])]),r("v-col",[r("p",{staticClass:"body-2"},[r("span",{staticClass:"font-weight-bold"},[e._v("Fee (KZT): ")]),e._v(" "+e._s(e._f("amount")(e.project.feeKZT))+" ")]),r("p",{staticClass:"body-2"},[r("span",{staticClass:"font-weight-bold"},[e._v("Budgeted hours: ")]),e._v(" "+e._s(e.project.budgetedHours)+" ")]),r("p",{staticClass:"body-2"},[r("span",{staticClass:"font-weight-bold"},[e._v("Budgeted realization (%): ")]),e._v(" "+e._s(e.project.budgetedRealization)+" ")]),r("p",{staticClass:"body-2"},[r("span",{staticClass:"font-weight-bold"},[e._v("Contract signed date: ")]),e._v(" "+e._s(e._f("dateShort")(e.project.contractSignedDate))+" ")]),r("p",{staticClass:"body-2"},[r("span",{staticClass:"font-weight-bold"},[e._v("Expected report date: ")]),e._v(" "+e._s(e._f("dateShort")(e.project.expectedDateOfReport))+" ")])])],1)],1)],1)],1),r("v-container",{staticClass:"EditionPanel"},[r("v-row",[r("v-container",[r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Completion, %",type:"number",dense:"","error-messages":e.completionErrors},on:{blur:function(t){return e.$v.project.completion.$touch()}},model:{value:e.project.completion,callback:function(t){e.$set(e.project,"completion",t)},expression:"project.completion"}})],1),r("v-col",[r("v-select",{attrs:{items:e.inCharges,dense:"","item-text":"name","return-object":"",label:"In charge"},model:{value:e.project.inCharge,callback:function(t){e.$set(e.project,"inCharge",t)},expression:"project.inCharge"}})],1)],1)],1)],1),r("v-row",{staticClass:"mb-10"},[r("v-container",{staticClass:"StagesTable"},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersStages,items:e.projectStages,dense:"","hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-toolbar-title",[e._v("Project Stages")]),r("v-spacer"),r("v-btn",{staticClass:"mr-2",attrs:{small:"",outlined:"",color:"primary",dark:""},on:{click:function(t){e.dialogStage=!0}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-plus-circle-outline")]),e._v(" Add")],1),r("v-dialog",{attrs:{"max-width":"550px"},model:{value:e.dialogStage,callback:function(t){e.dialogStage=t},expression:"dialogStage"}},[r("v-card",[r("v-card-title",[e._v(" Project Stage ")]),r("v-card-text",[r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Stage name",type:"text","error-messages":e.stageNameErrors},on:{blur:function(t){return e.$v.editedStage.name.$touch()}},model:{value:e.editedStage.name,callback:function(t){e.$set(e.editedStage,"name",t)},expression:"editedStage.name"}})],1),r("v-col",[r("v-text-field",{attrs:{label:"Budgeted hours",type:"number","error-messages":e.budgetedHoursErrors},on:{blur:function(t){return e.$v.editedStage.budgetedHours.$touch()}},model:{value:e.editedStage.budgetedHours,callback:function(t){e.$set(e.editedStage,"budgetedHours",t)},expression:"editedStage.budgetedHours"}})],1)],1),r("v-row",[r("v-text-field",{attrs:{label:"Description",type:"text"},model:{value:e.editedStage.description,callback:function(t){e.$set(e.editedStage,"description",t)},expression:"editedStage.description"}})],1)],1),r("v-card-actions",[r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDialogStage}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveStage}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[r("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteStage(a)}}},[e._v("mdi-delete")]),r("v-icon",{attrs:{small:""},on:{click:function(t){return e.editStage(a)}}},[e._v("mdi-pencil")])]}}])})],1),r("v-container",{staticClass:"TeamTable"},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersTeam,items:e.projectTeam,dense:"","hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-toolbar-title",[e._v("Assigned Team")]),r("v-spacer"),r("v-btn",{staticClass:"mr-2",attrs:{small:"",outlined:"",color:"primary",dark:""},on:{click:function(t){e.dialogTeam=!0}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-plus-circle-outline")]),e._v(" Add")],1),e.dialogTeam?r("EmployeeSelectionDialog",{on:{closeDialogTeam:e.closeDialogTeam}}):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[r("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteTeamMember(a)}}},[e._v("mdi-delete")])]}}])})],1)],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)},Qe=[],Je=(r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"550px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"subtitle"},[e._v("Select Employees")])]),r("v-card-text",[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersTeam,items:e.employeesArray,search:e.search,"item-key":"name",dense:"",height:"255","hide-default-footer":"","show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-text-field",{attrs:{dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",text:""},on:{click:e.close}},[e._v(" Close ")]),r("v-btn",{attrs:{color:"primary",text:""},on:{click:e.add}},[e._v(" Add selected ")])],1)],1)],1)}),We=[],Ge={props:{},data:function(){return{dialog:!0,search:"",selected:[],headersTeam:[{text:"Employee",value:"name"},{text:"Position",value:"position"},{text:"Department",value:"department"}]}},computed:Object(u["a"])(Object(u["a"])({},Object(h["d"])(["employees"])),{},{employeesArray:function(){return this.employees.employees.data.data}}),watch:{dialog:function(e){e||this.close()}},methods:{close:function(){this.dialog=!1,this.$emit("closeDialogTeam")},add:function(){this.dialog=!1,this.$emit("closeDialogTeam",this.selected)}}},Xe=Ge,et=r("8fea"),tt=r("169a"),rt=r("8654"),at=r("71d9"),it=Object(Q["a"])(Xe,Je,We,!1,null,null,null),nt=it.exports;W()(it,{VBtn:ee["a"],VCard:Ue["a"],VCardActions:He["a"],VCardText:He["b"],VCardTitle:He["c"],VDataTable:et["a"],VDialog:tt["a"],VSpacer:de["a"],VTextField:rt["a"],VToolbar:at["a"]});var ot=r("b5ae"),st={name:"ProjectManagerView",components:{NotificationContainer:je,EmployeeSelectionDialog:nt},props:{project:{type:Object,required:!0},inCharges:{type:Array}},data:function(){return{headersTeam:[{text:"Employee",value:"name"},{text:"Position",value:"position"},{text:"Actions",value:"actions"}],headersStages:[{text:"Stage",value:"name"},{text:"Description",value:"description"},{text:"Budgeted hours",value:"budgetedHours"},{text:"Actions",value:"actions"}],dialog:!0,dialogTeam:!1,dialogStage:!1,projectTeam:[],projectStages:[],editedStage:{},editedStageDefault:{},editedStageIndex:-1}},watch:{dialog:function(e){e||this.close()},dialogStage:function(e){e||this.closeDialogStage()}},validations:{project:{completion:{integer:ot["integer"],between:Object(ot["between"])(0,100)}},editedStage:{budgetedHours:{integer:ot["integer"],between:Object(ot["between"])(1,1e3)},name:{required:Object(ot["requiredIf"])((function(){return this.editedStage})),maxLength:Object(ot["maxLength"])(30)}}},computed:{completionErrors:function(){var e=[];return this.$v.project.completion.$dirty?(!this.$v.project.completion.integer&&e.push("Completion % must be a number"),!this.$v.project.completion.between&&e.push("Completion % must be between 0-100"),e):e},stageNameErrors:function(){var e=[];return this.$v.editedStage.name.$dirty?(!this.$v.editedStage.name.required&&e.push("Stage name is required"),!this.$v.editedStage.name.maxLength&&e.push("Stage name must be maximum 30 characters"),e):e},budgetedHoursErrors:function(){var e=[];return this.$v.editedStage.budgetedHours.$dirty?(!this.$v.editedStage.budgetedHours.integer&&e.push("Budgeted hours must be a whole number"),!this.$v.editedStage.budgetedHours.between&&e.push("Budgeted hours must be a positive whole number between 0-1000"),e):e}},methods:{close:function(){this.dialog=!1,this.$emit("closeDialogManager")},save:function(){var e=this;this.$v.project.$touch(),this.$v.project.$invalid||this.$store.dispatch("projects/updateProject",this.project).then((function(){e.close()}))},closeDialogTeam:function(e){var t=this;this.dialogTeam=!1,e&&e.forEach((function(e){t.projectTeam.push(e)}))},deleteTeamMember:function(e){var t=this.project.team.indexOf(e);confirm("Are you sure you want to delete ".concat(e.name," from project team?"))&&this.project.team.splice(t,1)},editStage:function(e){this.editedStageIndex=this.projectStages.indexOf(e),this.editedStage=Object.assign({},e),this.$v.$reset(),this.dialogStage=!0},deleteStage:function(e){var t=this.project.stages.indexOf(e);confirm("Are you sure you want to delete stage ".concat(e.name,"?"))&&this.project.stages.splice(t,1)},closeDialogStage:function(){var e=this;this.dialogStage=!1,this.$v.$reset(),this.$nextTick((function(){e.editedStage=Object.assign({},e.editedStageDefault),e.editedStageIndex=-1}))},saveStage:function(){this.$v.$touch(),this.$v.$invalid||(this.editedStageIndex>-1?Object.assign(this.projectStages[this.editedStageIndex],this.editedStage):this.projectStages.push(this.editedStage),this.closeDialogStage())}},created:function(){this.projectTeam=this.project.team,this.projectStages=this.project.stages}},ct=st,dt=r("62ad"),lt=r("a523"),ut=r("cd55"),mt=r("49e2"),pt=r("c865"),ht=r("0393"),vt=r("0fd9"),ft=r("b974"),gt=Object(Q["a"])(ct,Ze,Qe,!1,null,null,null),bt=gt.exports;W()(gt,{VBtn:ee["a"],VCard:Ue["a"],VCardActions:He["a"],VCardText:He["b"],VCardTitle:He["c"],VCol:dt["a"],VContainer:lt["a"],VDataTable:et["a"],VDialog:tt["a"],VExpansionPanel:ut["a"],VExpansionPanelContent:mt["a"],VExpansionPanelHeader:pt["a"],VExpansionPanels:ht["a"],VIcon:re["a"],VRow:vt["a"],VSelect:ft["a"],VSpacer:de["a"],VTextField:rt["a"],VToolbar:at["a"],VToolbarTitle:le["a"]});var yt={name:"MyProjects",components:{ProjectManagerEditionDialog:bt},props:{currentUser:{required:!0}},data:function(){return{selectedRow:null,headers:[{text:"Engagement code",value:"engagementCode"},{text:"Client name",value:"clientName"},{text:"Contract subject",value:"contractSubject"},{text:"Partner",value:"partner.name"},{text:"Manager",value:"manager.name"},{text:"In charge",value:"inCharge.name"},{text:"Location",value:"location"},{text:"Completion",value:"completion"},{text:"Expected report date",value:"expectedDateOfReportLocal",width:"50px"},{text:"Me",value:"me"},{text:"Actions",value:"actions",sortable:!1,groupable:!1}],items:[],editedIndex:-1,editedItem:{},defaultItem:{},dialogManager:!1}},watch:{dialogManager:function(e){e||this.closeDialogManager()}},computed:Object(u["a"])(Object(u["a"])({},Object(h["d"])(["projects","employees"])),{},{inCharges:function(){return this.employees.employees.data.data.filter((function(e){return"A2"==e.position||"A3"==e.position||"S1"==e.position||"S2"==e.position||"S3"==e.position}))}}),mounted:function(){this.prepareItems()},methods:{prepareItems:function(){var e=this;this.$store.dispatch("projects/fetchMyProjects").then((function(){e.items=e.projects.myProjects.data,e.items.length&&e.items.map((function(t){t.expectedDateOfReportLocal=Object(Ye["a"])(t.expectedDateOfReport),String(t.partner._id)==String(e.currentUser._id)?t.me="partner":String(t.manager._id)==String(e.currentUser._id)?t.me="manager":String(t.inCharge._id)==String(e.currentUser._id)?t.me="in charge":t.me="team member"}))}))},onRowDoubleClick:function(e,t){this.openManagerDialog(t.item)},openManagerDialog:function(e){"manager"==e.me&&(this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),this.dialogManager=!0)},closeDialogManager:function(){this.dialogManager=!1,this.prepareItems()}}},xt=yt,Et=Object(Q["a"])(xt,ze,Ke,!1,null,null,null),_t=Et.exports;W()(Et,{VDataTable:et["a"],VIcon:re["a"],VToolbar:at["a"],VToolbarTitle:le["a"]});var Ct=r("53f3"),wt=r("8e03"),jt={name:"DashboardPage",components:{StatisticCard:Be,MyProjects:_t},data:function(){return{sales:Ct,statistics:wt}},created:function(){this.$store.dispatch("employees/fetchEmployees",this.userToken)},computed:Object(u["a"])(Object(u["a"])(Object(u["a"])({},Object(h["d"])(["authUser"])),B),{},{userToken:function(){var e=localStorage.getItem("user")?this.authUser.user.token:"";return e},hiredDate:function(){return Object(Ye["a"])(this.currentUser.user.hiredDate)}})},$t=jt,St=Object(Q["a"])($t,Ne,qe,!1,null,null,null),Tt=St.exports;W()(St,{VCard:Ue["a"],VCardText:He["b"],VCardTitle:He["c"],VCol:dt["a"],VContainer:lt["a"],VRow:vt["a"]});var It=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"fill-height":""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-img",{staticClass:"my-3",attrs:{src:r("9b19"),contain:"",height:"50"}}),a("v-card",{staticClass:"mx-auto mt-5",attrs:{width:"400"}},[a("v-card-title",{staticClass:"pb-0"},[a("h3",[e._v("Login")])]),a("v-card-text",[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[a("v-text-field",{attrs:{label:"E-mail","prepend-icon":"mdi-account-circle",type:"email",name:"email",required:"","error-messages":e.emailErrors},on:{blur:function(t){return e.$v.email.$touch()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{type:e.showPassword?"text":"password",name:"password",label:"Password","prepend-icon":"mdi-lock","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",required:"","error-messages":e.passwordErrors},on:{"click:append":function(t){e.showPassword=!e.showPassword},blur:function(t){return e.$v.password.$touch()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("p",{staticClass:"red--text"},[e._v(e._s(e.error))]),a("v-divider"),a("v-card-actions",[a("v-btn",{attrs:{type:"submit",name:"button",color:"indigo",dark:""}},[e._v("Login")])],1)],1)],1)],1)],1)],1)],1)],1)},Dt=[],kt={name:"Login",data:function(){return{showPassword:!1,email:"",password:"",error:null}},validations:{email:{required:ot["required"],email:ot["email"]},password:{required:ot["required"]}},computed:Object(u["a"])(Object(u["a"])(Object(u["a"])({},Object(h["d"])(["authUser","authUser"])),B),{},{emailErrors:function(){var e=[];return this.$v.email.$dirty?(!this.$v.email.email&&e.push("Must be valid e-mail"),!this.$v.email.required&&e.push("E-mail is required"),e):e},passwordErrors:function(){var e=[];return this.$v.password.$dirty?(!this.$v.password.required&&e.push("Password is required"),e):e}}),methods:{login:function(){var e=this;this.$v.$touch(),this.$v.$invalid||this.$store.dispatch("authUser/login",{email:this.email,password:this.password}).then((function(){e.$router.push({name:"Dashboard"})})).catch((function(t){e.error=t.response.data.message}))}},created:function(){this.loggedIn&&!this.tokenExpired&&this.$router.push({name:"Dashboard"})}},Ot=kt,Vt=r("4bd4"),Pt=Object(Q["a"])(Ot,It,Dt,!1,null,null,null),Nt=Pt.exports;W()(Pt,{VBtn:ee["a"],VCard:Ue["a"],VCardActions:He["a"],VCardText:He["b"],VCardTitle:He["c"],VCol:dt["a"],VContainer:lt["a"],VDivider:te["a"],VForm:Vt["a"],VImg:ae["a"],VRow:vt["a"],VTextField:rt["a"]});var qt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.projectsArray,search:e.search,loading:!e.tableLoaded,"loading-text":"Loading... Please wait","show-group-by":""},on:{"dblclick:row":e.doubleClick},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-text-field",{attrs:{dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),r("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),r("v-spacer"),e.dialog?r("ProjectMainDialog",{attrs:{editedItem:e.editedItem,editedIndex:e.editedIndex,employees:e.employees,inCharges:e.inCharges},on:{closeMainDialog:e.close}}):e._e(),e.dialogManager?r("ProjectManagerEditionDialog",{attrs:{project:e.editedItem,inCharges:e.inCharges},on:{closeDialogManager:function(t){e.dialogManager=!1}}}):e._e()],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v("mdi-pencil ")]),r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.openManagerDialog(a)}}},[e._v("mdi-shield-edit ")])]}},{key:"item.feeKZT",fn:function(t){var r=t.item;return[e._v(" "+e._s(e._f("amount")(r.feeKZT))+" ")]}}])})],1)},At=[],Lt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{fullscreen:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({staticClass:"mb-2",attrs:{small:"",outlined:"",color:"primary",dark:""}},a),[r("v-icon",{attrs:{left:""}},[e._v("mdi-plus-circle-outline")]),e._v("Add new")],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("NotificationContainer"),r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1),r("v-card-text",[r("v-container",[r("h2",[e._v("Main")]),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Client name",required:"","error-messages":e.clientNameErrors},on:{blur:function(t){return e.$v.editedItem.clientName.$touch()}},model:{value:e.editedItem.clientName,callback:function(t){e.$set(e.editedItem,"clientName",t)},expression:"editedItem.clientName"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Target name"},model:{value:e.editedItem.targetName,callback:function(t){e.$set(e.editedItem,"targetName",t)},expression:"editedItem.targetName"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Engagement code",required:"","error-messages":e.engagementCodeErrors},on:{blur:function(t){return e.$v.editedItem.engagementCode.$touch()}},model:{value:e.editedItem.engagementCode,callback:function(t){e.$set(e.editedItem,"engagementCode",t)},expression:"editedItem.engagementCode"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-select",{attrs:{items:e.serviceLines,label:"Service line",required:"","error-messages":e.serviceLineErrors},on:{blur:function(t){return e.$v.editedItem.serviceLine.$touch()}},model:{value:e.editedItem.serviceLine,callback:function(t){e.$set(e.editedItem,"serviceLine",t)},expression:"editedItem.serviceLine"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Contract subject"},model:{value:e.editedItem.contractSubject,callback:function(t){e.$set(e.editedItem,"contractSubject",t)},expression:"editedItem.contractSubject"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Location"},model:{value:e.editedItem.location,callback:function(t){e.$set(e.editedItem,"location",t)},expression:"editedItem.location"}})],1)],1),r("div",{staticClass:"mt-5"},[r("h2",[e._v("People")])]),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-select",{attrs:{items:e.partners,"item-text":"name","return-object":"",label:"Partner",required:"","error-messages":e.partnerErrors},on:{blur:function(t){return e.$v.editedItem.partner.$touch()}},model:{value:e.editedItem.partner,callback:function(t){e.$set(e.editedItem,"partner",t)},expression:"editedItem.partner"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-select",{attrs:{items:e.managers,"item-text":"name","return-object":"",label:"Manager",required:"","error-messages":e.managerErrors},on:{blur:function(t){return e.$v.editedItem.manager.$touch()}},model:{value:e.editedItem.manager,callback:function(t){e.$set(e.editedItem,"manager",t)},expression:"editedItem.manager"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-select",{attrs:{items:e.inCharges,"item-text":"name","return-object":"",label:"In charge"},model:{value:e.editedItem.inCharge,callback:function(t){e.$set(e.editedItem,"inCharge",t)},expression:"editedItem.inCharge"}})],1)],1),r("div",{staticClass:"mt-5"},[r("h2",[e._v("Numbers")])]),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Fee, KZT",type:"number",required:"","error-messages":e.feeKZTErrors},on:{blur:function(t){return e.$v.editedItem.feeKZT.$touch()}},model:{value:e.editedItem.feeKZT,callback:function(t){e.$set(e.editedItem,"feeKZT",t)},expression:"editedItem.feeKZT"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Budgeted hours",type:"number",required:"","error-messages":e.budgetedHoursErrors},on:{blur:function(t){return e.$v.editedItem.budgetedHours.$touch()}},model:{value:e.editedItem.budgetedHours,callback:function(t){e.$set(e.editedItem,"budgetedHours",t)},expression:"editedItem.budgetedHours"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Budgeted realization",type:"number",required:"","error-messages":e.budgetedRealizationErrors},on:{blur:function(t){return e.$v.editedItem.budgetedRealization.$touch()}},model:{value:e.editedItem.budgetedRealization,callback:function(t){e.$set(e.editedItem,"budgetedRealization",t)},expression:"editedItem.budgetedRealization"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Completion, %",type:"number",required:"","error-messages":e.completionErrors},on:{blur:function(t){return e.$v.editedItem.completion.$touch()}},model:{value:e.editedItem.completion,callback:function(t){e.$set(e.editedItem,"completion",t)},expression:"editedItem.completion"}})],1)],1),r("div",{staticClass:"mt-5"},[r("h2",[e._v("Dates")])]),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("BaseDatePicker",{attrs:{label:"Contract signed date",date:e.editedItem.contractSignedDate},model:{value:e.editedItem.contractSignedDate,callback:function(t){e.$set(e.editedItem,"contractSignedDate",t)},expression:"editedItem.contractSignedDate"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("BaseDatePicker",{attrs:{label:"Expected date of report",date:e.editedItem.expectedDateOfReport,required:"",errorMessages:e.expectedReportDateErrors},on:{input:e.inputExpectedDateOfReport,blur:function(t){return e.$v.editedItem.expectedDateOfReport.$touch()}},model:{value:e.editedItem.expectedDateOfReport,callback:function(t){e.$set(e.editedItem,"expectedDateOfReport",t)},expression:"editedItem.expectedDateOfReport"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)},Mt=[],Rt=(r("99af"),r("a9e3"),r("1276"),r("3835")),Ut=["MP","P","D","SM1","SM2","M1","M2","AM","S1","S2","S3","A1","A2","A3","INT"],Ht=["Almaty","Astana"],Ft=["Assurance","Advisory","Tax","Outsourcing","Admin"],Bt=["Audit","Advisory","Tax","Outsourcing"],zt=["staff","HR","support","manager","partner","admin"],Kt={components:{NotificationContainer:je},props:{editedItem:Object,editedIndex:Number,employees:Object,inCharges:Array},data:function(){return{dialog:!0,menuContractSignedDate:!1,menuExpectedDateOfReport:!1}},watch:{dialog:function(e){e||this.close()}},mounted:function(){this.$v.$reset()},validations:{editedItem:{clientName:{required:ot["required"],maxLength:Object(ot["maxLength"])(50),minLength:Object(ot["minLength"])(5)},engagementCode:{required:ot["required"],maxLength:Object(ot["maxLength"])(17),minLength:Object(ot["minLength"])(14)},feeKZT:{required:ot["required"],integer:ot["integer"],minValue:Object(ot["minValue"])(1)},budgetedHours:{required:ot["required"],decimal:ot["decimal"],minValue:Object(ot["minValue"])(1)},budgetedRealization:{required:ot["required"],decimal:ot["decimal"],between:Object(ot["between"])(1,100)},completion:{integer:ot["integer"],between:Object(ot["between"])(0,100)},partner:{required:ot["required"]},manager:{required:ot["required"]},serviceLine:{required:ot["required"]},expectedDateOfReport:{required:ot["required"]}}},computed:{serviceLines:function(){return Bt},formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"},partners:function(){return this.employees.employees.data.data.filter((function(e){return"partner"==e.role}))},managers:function(){return this.employees.employees.data.data.filter((function(e){return"manager"==e.role}))},computedDateFormatted:function(){return this.formatDate(this.editedItem.contractSignedDate)},computedExpectedDateOfReportFormatted:function(){return this.formatDate(this.editedItem.expectedDateOfReport)},clientNameErrors:function(){var e=[];return this.$v.editedItem.clientName.$dirty?(!this.$v.editedItem.clientName.required&&e.push("Client name is required"),!this.$v.editedItem.clientName.minLength&&e.push("Client name must be minimum 5 characters"),!this.$v.editedItem.clientName.maxLength&&e.push("Client name must be maximum 50 characters"),e):e},engagementCodeErrors:function(){var e=[];return this.$v.editedItem.engagementCode.$dirty?(!this.$v.editedItem.engagementCode.required&&e.push("Engagement code is required"),!this.$v.editedItem.engagementCode.minLength&&e.push("Engagement code must be minimum 14 characters"),!this.$v.editedItem.engagementCode.maxLength&&e.push("Engagement code must be maximum 17 characters"),e):e},feeKZTErrors:function(){var e=[];return this.$v.editedItem.feeKZT.$dirty?(!this.$v.editedItem.feeKZT.required&&e.push("Fee, KZT is required"),!this.$v.editedItem.feeKZT.integer&&e.push("Fee, KZT must be a whole number"),!this.$v.editedItem.feeKZT.minValue&&e.push("Fee, KZT must be positive integer number > 0"),e):e},budgetedHoursErrors:function(){var e=[];return this.$v.editedItem.budgetedHours.$dirty?(!this.$v.editedItem.budgetedHours.required&&e.push("Budgeted hours is required"),!this.$v.editedItem.budgetedHours.decimal&&e.push("Budgeted hours must be a whole number"),!this.$v.editedItem.budgetedHours.minValue&&e.push("Budgeted hours must be positive integer number > 0"),e):e},budgetedRealizationErrors:function(){var e=[];return this.$v.editedItem.budgetedRealization.$dirty?(!this.$v.editedItem.budgetedRealization.required&&e.push("Budgeted realization % is required"),!this.$v.editedItem.budgetedRealization.decimal&&e.push("Budgeted realization % must be a number"),!this.$v.editedItem.budgetedRealization.between&&e.push("Budgeted realization % must be between 0-100"),e):e},completionErrors:function(){var e=[];return this.$v.editedItem.completion.$dirty?(!this.$v.editedItem.completion.integer&&e.push("Completion % must be a number"),!this.$v.editedItem.completion.between&&e.push("Completion % must be between 0-100"),e):e},partnerErrors:function(){var e=[];return this.$v.editedItem.partner.$dirty?(!this.$v.editedItem.partner.required&&e.push("Partner is required"),e):e},managerErrors:function(){var e=[];return this.$v.editedItem.manager.$dirty?(!this.$v.editedItem.manager.required&&e.push("Manager is required"),e):e},serviceLineErrors:function(){var e=[];return this.$v.editedItem.serviceLine.$dirty?(!this.$v.editedItem.serviceLine.required&&e.push("Service Line is required"),e):e},expectedReportDateErrors:function(){var e=[];return this.$v.editedItem.expectedDateOfReport.$dirty?(!this.$v.editedItem.expectedDateOfReport.required&&e.push("Expected Date Of Report is required"),e):e}},methods:{save:function(){var e=this;this.$v.$touch(),this.$v.$invalid||(this.editedIndex>-1?this.$store.dispatch("projects/updateProject",this.editedItem).then((function(){e.close()})):this.$store.dispatch("projects/createProject",this.editedItem).then((function(){e.close()})))},close:function(){this.dialog=!1,this.$v.$reset(),this.$emit("closeMainDialog")},formatDate:function(e){if(!e)return null;var t=e.substr(0,10).split("-"),r=Object(Rt["a"])(t,3),a=r[0],i=r[1],n=r[2];return"".concat(n,"/").concat(i,"/").concat(a)},inputExpectedDateOfReport:function(){this.$v.editedItem.expectedDateOfReport.$touch()}}},Yt=Kt,Zt=Object(Q["a"])(Yt,Lt,Mt,!1,null,null,null),Qt=Zt.exports;W()(Zt,{VBtn:ee["a"],VCard:Ue["a"],VCardActions:He["a"],VCardText:He["b"],VCardTitle:He["c"],VCol:dt["a"],VContainer:lt["a"],VDialog:tt["a"],VIcon:re["a"],VRow:vt["a"],VSelect:ft["a"],VSpacer:de["a"],VTextField:rt["a"]});var Jt={name:"ProjectsPage",components:{ProjectMainDialog:Qt,ProjectManagerEditionDialog:bt},data:function(){return{dialog:!1,dialogManager:!1,search:"",headers:[{text:"Engagement code",value:"engagementCode",groupable:!1},{text:"Client name",value:"clientName",groupable:!1},{text:"Fee, KZT",value:"feeKZT",groupable:!1},{text:"Partner",value:"partner.name"},{text:"Manager",value:"manager.name"},{text:"Budgeted Hours",value:"budgetedHours",groupable:!1},{text:"Budgeted Realization",value:"budgetedRealization",groupable:!1},{text:"Completion, %",value:"completion",groupable:!1},{text:"Service Line",value:"serviceLine"},{text:"Contract subject",value:"contractSubject",groupable:!1},{text:"Actions",value:"actions",sortable:!1,groupable:!1}],editedIndex:-1,editedItem:{},defaultItem:{}}},mounted:function(){this.$store.dispatch("projects/fetchProjects",this.userToken),this.$store.dispatch("employees/fetchEmployees",this.userToken)},watch:{dialog:function(e){e||this.close()},dialogManager:function(e){e||this.close()}},computed:Object(u["a"])(Object(u["a"])({},Object(h["d"])(["projects","authUser","employees"])),{},{tableLoaded:function(){return this.projectsArray.length>0},projectsArray:function(){return this.projects.projects.data.data},userToken:function(){var e=localStorage.getItem("user")?this.authUser.user.token:"";return e},isAdmin:function(){return"admin"==this.authUser.user.data.user.role},inCharges:function(){return this.employees.employees.data.data.filter((function(e){return"A2"==e.position||"A3"==e.position||"S1"==e.position||"S2"==e.position||"S3"==e.position}))}}),methods:{editItem:function(e){this.editedIndex=this.projectsArray.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},openManagerDialog:function(e){this.editedIndex=this.projectsArray.indexOf(e),this.editedItem=Object.assign({},e),this.dialogManager=!0},deleteItem:function(e){var t=this.projectsArray.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.projectsArray.splice(t,1)},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},doubleClick:function(e,t){this.editItem(t.item)}}},Wt=Jt,Gt=Object(Q["a"])(Wt,qt,At,!1,null,null,null),Xt=Gt.exports;W()(Gt,{VContainer:lt["a"],VDataTable:et["a"],VDivider:te["a"],VIcon:re["a"],VSpacer:de["a"],VTextField:rt["a"],VToolbar:at["a"]});var er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.employeesArray,search:e.search,loading:!e.tableLoaded,"loading-text":"Loading... Please wait","show-group-by":""},on:{"dblclick:row":e.doubleClick},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-text-field",{attrs:{dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),r("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),r("v-spacer"),r("v-btn",{staticClass:"mr-2",attrs:{small:"",outlined:"",color:"primary",dark:""},on:{click:e.createNew}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-plus-circle-outline")]),e._v(" Add new")],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var a=t.item;return[r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v("mdi-pencil")])]}},{key:"item.hiredDate",fn:function(t){var r=t.item;return[e._v(" "+e._s(e._f("shortDate")(r.hiredDate))+" ")]}},{key:"item.active",fn:function(t){var a=t.item;return[r("v-simple-checkbox",{attrs:{disabled:""},model:{value:a.active,callback:function(t){e.$set(a,"active",t)},expression:"item.active"}})]}}])})],1)},tr=[],rr={name:"EmployeeListPage",components:{},data:function(){return{search:"",headers:[{text:"Name",value:"name",groupable:!1},{text:"Position",value:"position",groupable:!1},{text:"Department",value:"department"},{text:"Office",value:"office",groupable:!1},{text:"Hired date",value:"hiredDate",groupable:!1},{text:"Role",value:"role",groupable:!1},{text:"Actions",value:"actions",sortable:!1,groupable:!1}],editedIndex:-1,editedItem:{},defaultItem:{}}},filters:{shortDate:function(e){return Object(Ye["b"])(e)}},created:function(){this.$store.dispatch("projects/fetchProjects",this.userToken),this.$store.dispatch("employees/fetchEmployees",this.userToken)},computed:Object(u["a"])(Object(u["a"])({},Object(h["d"])(["projects","authUser","employees"])),{},{tableLoaded:function(){return this.employeesArray.length>0},employeesArray:function(){return this.employees.employees.data.data},userToken:function(){var e=localStorage.getItem("user")?this.authUser.user.token:"";return e},isAdmin:function(){return"admin"==this.authUser.user.data.user.role}}),methods:{editItem:function(e){this.editedIndex=this.employeesArray.indexOf(e),this.editedItem=Object.assign({},e),this.editedItem&&this.$router.push({name:"EmployeeEdit",params:{id:this.editedItem._id}})},createNew:function(){this.$router.push({name:"EmployeeCreate"})},doubleClick:function(e,t){this.editItem(t.item)},addNew:function(){}}},ar=rr,ir=r("9e88"),nr=Object(Q["a"])(ar,er,tr,!1,null,null,null),or=nr.exports;W()(nr,{VBtn:ee["a"],VContainer:lt["a"],VDataTable:et["a"],VDivider:te["a"],VIcon:re["a"],VSimpleCheckbox:ir["a"],VSpacer:de["a"],VTextField:rt["a"],VToolbar:at["a"]});var sr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersTimesheet,items:e.itemsTimesheet,dense:"","item-key":"engagementCode","hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"min-width":"200px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({staticClass:"shrink",attrs:{label:"Week",readonly:"",dense:"","hide-details":""},model:{value:e.computedDateFormatted,callback:function(t){e.computedDateFormatted=t},expression:"computedDateFormatted"}},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[r("v-date-picker",{attrs:{"show-current":e.showCurrent,"first-day-of-week":"1"},on:{input:function(t){e.menu=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),r("v-btn",{staticClass:"mx-2",attrs:{small:"",outlined:"",color:"success"},on:{click:function(t){return e.previousNextWeek(-7)}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-arrow-left")]),e._v("prev.week ")],1),r("v-btn",{staticClass:"mx-2",attrs:{small:"",outlined:"",color:"success"},on:{click:function(t){return e.previousNextWeek(7)}}},[e._v(" next week "),r("v-icon",{attrs:{right:""}},[e._v("mdi-arrow-right")])],1),r("v-spacer"),r("v-btn",{staticClass:"mr-2",attrs:{small:"",outlined:"",color:"primary",dark:""},on:{click:e.addNewProject}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-plus-circle-outline")]),e._v(" Add new project")],1),e.dialogAddNewProject?r("ProjectSelectionDialog",{attrs:{currentEmployee:e.currentEmployee,usedProjects:e.usedProjects},on:{closeDialogAddNewProject:e.closeDialogAddNewProject}}):e._e(),e.dialogTSEdit?r("TimesheetEditionDialog",{attrs:{editedItem:e.editedItem},on:{closeTimesheetEditionDialog:e.closeTimesheetEditionDialog}}):e._e()],1)]},proxy:!0},{key:"item",fn:function(t){var a=t.item;return[r("tr",[r("td",[e._v(e._s(a.engagementCode))]),r("td",[e._v(e._s(a.clientName))]),r("td",[r("v-chip",{attrs:{small:""}},[e._v(" "+e._s(a.hoursYTD)+" ")])],1),e._l(e.currentWeekDays,(function(t){return r("td",{key:t,on:{click:function(r){return e.onRowClick(a,t)}}},[e._v(" "+e._s(a[t])+" ")])}))],2)]}}])},[r("template",{slot:"header"},[r("thead",[r("tr",{staticClass:"grey lighten-2"},[r("th",{attrs:{colspan:3}},[e._v("Total hours")]),e._l(e.currentWeekDays,(function(t){return r("th",{key:t},[r("v-chip",{class:{"color red":e.sumDailyHours(t)<8&&!e.isWeekend(t),"color green":e.sumDailyHours(t)>=8&&!e.isWeekend(t)},attrs:{"x-small":"",dark:""}},[e._v(e._s(e.sumDailyHours(t)))])],1)}))],2)])])],2)],1)},cr=[],dr=(r("13d5"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"450px"},model:{value:e.dialogTSEdit,callback:function(t){e.dialogTSEdit=t},expression:"dialogTSEdit"}},[r("v-card",[r("v-card-title",[r("v-row",[r("v-col",{attrs:{cols:"4"}},[r("v-text-field",{attrs:{label:"Date",readonly:"",dense:""},model:{value:e.editedItem.day,callback:function(t){e.$set(e.editedItem,"day",t)},expression:"editedItem.day"}})],1),r("v-col",[r("v-text-field",{attrs:{label:e.editedItem.clientName,readonly:"",dense:""},model:{value:e.editedItem.engagementCode,callback:function(t){e.$set(e.editedItem,"engagementCode",t)},expression:"editedItem.engagementCode"}})],1)],1)],1),r("v-card-text",[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersDailyDetails,items:e.itemsDailyDetails,dense:"","hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{dense:"",flat:"",color:"white"}},[r("v-toolbar-title",[e._v(" Total hours: "+e._s(e.totalHoursPerDay)+" ")]),r("v-spacer"),r("v-btn",{staticClass:"mr-2",attrs:{icon:"",small:"",color:"primary"},on:{click:function(t){return e.openTSQuickEditionDialog(!0)}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-plus-circle-outline")])],1),r("v-btn",{staticClass:"mr-2",attrs:{icon:"",small:"",color:"success",disabled:null==e.selectedRow},on:{click:function(t){return e.openTSQuickEditionDialog(!1)}}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-pencil-circle-outline")])],1),r("v-btn",{staticClass:"mr-2",attrs:{icon:"",small:"",color:"error",disabled:null==e.selectedRow},on:{click:e.deleteTS}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-delete-circle")])],1),e.dialogQuickCharge?r("TimesheetQuickChargeDialog",{attrs:{editedItem:e.editedItem,editedTSItem:e.editedTSItem},on:{close:e.editAddHoursOnQuickCharge}}):e._e()],1)]},proxy:!0},{key:"body",fn:function(t){var a=t.items;return[r("tbody",e._l(a,(function(t,a){return r("tr",{key:t.doc_id,class:a===e.selectedRow?"custom-highlight-row":"custom-ordinary-row",on:{click:function(t){return e.onRowClick(a)},dblclick:function(t){return e.openTSQuickEditionDialog(!1)}}},[r("td",[e._v(e._s(t.stageName||"Undefined"))]),r("td",[e._v(e._s(t.hours))]),r("td",[e._v(e._s(t.comment||"No comment"))])])})),0)]}}])})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.saveTS}},[e._v("Save")])],1)],1)],1)}),lr=[],ur=(r("7db0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"300px"},model:{value:e.dialogQuickCharge,callback:function(t){e.dialogQuickCharge=t},expression:"dialogQuickCharge"}},[r("v-card",[r("v-card-title",[r("v-row",[r("v-col",{attrs:{cols:"5"}},[r("v-text-field",{attrs:{label:"Date",readonly:"",dense:""},model:{value:e.editedItem.day,callback:function(t){e.$set(e.editedItem,"day",t)},expression:"editedItem.day"}})],1),r("v-col",[r("v-text-field",{attrs:{label:e.editedItem.clientName,readonly:"",dense:""},model:{value:e.editedItem.engagementCode,callback:function(t){e.$set(e.editedItem,"engagementCode",t)},expression:"editedItem.engagementCode"}})],1)],1)],1),r("v-card-text",[r("v-text-field",{attrs:{label:"Number of hours",type:"number",outlined:"","error-messages":e.hoursErrors},on:{blur:function(t){return e.$v.editedTSItem.hours.$touch()}},model:{value:e.editedTSItem.hours,callback:function(t){e.$set(e.editedTSItem,"hours",t)},expression:"editedTSItem.hours"}}),r("v-select",{attrs:{items:e.projectStages,"item-text":"name","item-value":"_id",label:"Stage",dense:""},model:{value:e.editedTSItem.stage,callback:function(t){e.$set(e.editedTSItem,"stage",t)},expression:"editedTSItem.stage"}}),r("v-text-field",{attrs:{label:"Comment",type:"text",dense:""},model:{value:e.editedTSItem.comment,callback:function(t){e.$set(e.editedTSItem,"comment",t)},expression:"editedTSItem.comment"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("OK")])],1)],1)],1)}),mr=[],pr={props:{editedItem:{type:Object,required:!0},editedTSItem:{type:Object}},data:function(){return{dialogQuickCharge:!0}},watch:{dialogQuickCharge:function(e){e||this.close()}},validations:{editedTSItem:{hours:{required:ot["required"],integer:ot["integer"],between:Object(ot["between"])(1,12)}}},computed:{projectStages:function(){return this.editedItem?this.editedItem.projectStages:[]},hoursErrors:function(){var e=[];return this.$v.editedTSItem.hours.$dirty?(!this.$v.editedTSItem.hours.required&&e.push("Hours is required"),!this.$v.editedTSItem.hours.integer&&e.push("Hours must be a whole number"),!this.$v.editedTSItem.hours.between&&e.push("Hours must be a positive whole number between 1-12"),e):e}},methods:{close:function(){this.dialogQuickCharge=!1,this.$emit("close")},save:function(){this.$v.$touch(),this.$v.$invalid||(this.addStageNameForSelectedId(),this.dialogQuickCharge=!1,this.$emit("close",this.editedTSItem))},addStageNameForSelectedId:function(){var e=this;if(this.editedTSItem.stage){var t=this.projectStages.find((function(t){return String(t._id)===String(e.editedTSItem.stage)}));this.editedTSItem.stageName=t.name}}}},hr=pr,vr=Object(Q["a"])(hr,ur,mr,!1,null,null,null),fr=vr.exports;W()(vr,{VBtn:ee["a"],VCard:Ue["a"],VCardActions:He["a"],VCardText:He["b"],VCardTitle:He["c"],VCol:dt["a"],VDialog:tt["a"],VRow:vt["a"],VSelect:ft["a"],VSpacer:de["a"],VTextField:rt["a"]});var gr={name:"TimesheetEditionDialog",components:{TimesheetQuickChargeDialog:fr},props:{editedItem:{type:Object,required:!0}},data:function(){return{selectedRow:null,dialogTSEdit:!0,dialogQuickCharge:!1,expanded:[],editedIndex:-1,editedTSItem:{stageName:"",hours:Number,comment:""},editedTSIndex:-1,defaultTSItem:{stageName:"",hours:Number,comment:""},headersDailyDetails:[{text:"Stage",value:"stageName"},{text:"Hours",value:"hours"},{text:"Comment",value:"comment"}],itemsDailyDetails:[]}},watch:{dialogTSEdit:function(e){e||this.close()}},created:function(){this.getItemsDailyDetails()},mounted:function(){this.dialogQuickCharge=!this.itemsDailyDetails.length},computed:{totalHoursPerDay:function(){return this.itemsDailyDetails.length?this.itemsDailyDetails.reduce((function(e,t){return e+(Number(t.hours)||0)}),0):0}},methods:{getItemsDailyDetails:function(){var e=this;if(this.editedItem.dates){this.editedItem.dates.forEach((function(e){e.dateFormatted=Object(Ye["a"])(e.date)}));var t=this.editedItem.dates.findIndex((function(t){return t.dateFormatted===e.editedItem.day}));t>-1&&(this.itemsDailyDetails=this.editedItem.dates[t].stages),this.itemsDailyDetails.forEach((function(t){if(t.stage){var r=e.editedItem.projectStages.find((function(e){return String(e._id)===t.stage}));t.stageName=r?r.name:"Not found"}else t.stageName="Undefined"}))}},close:function(){this.dialogTSEdit=!1,this.$emit("closeTimesheetEditionDialog")},closeQuickChargeDialog:function(){var e=this;this.dialogQuickCharge=!1,this.$nextTick((function(){e.editedTSItem=Object.assign({},e.defaultTSItem),e.editedTSIndex=-1}))},openTSQuickEditionDialog:function(e){this.editedTSIndex=e?-1:this.selectedRow,this.editedTSItem=Object.assign({},this.itemsDailyDetails[this.editedTSIndex]),this.dialogQuickCharge=!0},editAddHoursOnQuickCharge:function(e){e&&(this.editedTSIndex>-1?Object.assign(this.itemsDailyDetails[this.editedTSIndex],e):this.itemsDailyDetails.push(e)),this.closeQuickChargeDialog()},onRowClick:function(e){this.selectedRow=e},saveTS:function(){var e=this;this.prepareItemsBeforeSave(),this.itemsDailyDetails.length?this.itemsDailyDetails.forEach((function(t){t.doc_id?e.$store.dispatch("timesheet/updateTimesheet",t).then((function(){e.close()})):e.$store.dispatch("timesheet/createTimesheet",t).then((function(){e.close()}))})):this.close()},prepareItemsBeforeSave:function(){var e=this;this.itemsDailyDetails.forEach((function(t){t.project=e.editedItem.project,t.date=Object(Ye["d"])(e.editedItem.day),t.employee=e.editedItem.employee,t.chargedHours=t.hours,t.projectStage=t.stage}))},deleteTS:function(){var e=this;this.editedTSIndex=this.selectedRow,confirm("Delete selected hours?")&&this.$store.dispatch("timesheet/deleteTimesheet",this.itemsDailyDetails[this.editedTSIndex]).then((function(){e.itemsDailyDetails.splice(e.editedTSIndex,1)}))}}},br=gr,yr=(r("55f6"),Object(Q["a"])(br,dr,lr,!1,null,null,null)),xr=yr.exports;W()(yr,{VBtn:ee["a"],VCard:Ue["a"],VCardActions:He["a"],VCardText:He["b"],VCardTitle:He["c"],VCol:dt["a"],VDataTable:et["a"],VDialog:tt["a"],VIcon:re["a"],VRow:vt["a"],VSpacer:de["a"],VTextField:rt["a"],VToolbar:at["a"],VToolbarTitle:le["a"]});var Er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"max-width":"1000px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"subtitle"},[e._v("Select New Project for Timesheet")]),r("v-spacer"),r("v-card-actions",[r("v-btn",{attrs:{color:"primary",text:""},on:{click:e.close}},[e._v(" Close ")]),r("v-btn",{attrs:{color:"primary",text:""},on:{click:e.add}},[e._v(" Add selected ")])],1)],1),r("v-card-text",[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,search:e.search,dense:""},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-text-field",{attrs:{dense:"","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"body",fn:function(t){var a=t.items;return[r("tbody",e._l(a,(function(t,a){return r("tr",{key:t.engagementCode,class:a===e.selectedRow?"custom-highlight-row":"custom-ordinary-row",on:{click:function(t){return e.onRowClick(a)},dblclick:e.add}},[r("td",[e._v(e._s(t.engagementCode))]),r("td",[e._v(e._s(t.clientName))]),r("td",[e._v(e._s(t.contractSubject))]),r("td",[e._v(e._s(t.serviceLine))]),r("td",[e._v(e._s(t.partner.name))]),r("td",[e._v(e._s(t.manager.name))])])})),0)]}}])})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",text:""},on:{click:e.close}},[e._v(" Close ")]),r("v-btn",{attrs:{color:"primary",text:""},on:{click:e.add}},[e._v(" Add selected ")])],1)],1)],1)},_r=[],Cr={name:"ProjectSelectionDialog",props:{currentEmployee:{required:!0},usedProjects:{type:Array}},watch:{dialog:function(e){e||this.close()}},data:function(){return{dialog:!0,search:"",selectedRow:null,headers:[{text:"Engagement code",value:"engagementCode"},{text:"Client name",value:"clientName"},{text:"Contract subject",value:"contractSubject"},{text:"Service line",value:"serviceLine"},{text:"Partner",value:"partner.name"},{text:"Manager",value:"manager.name"}],items:[]}},computed:Object(u["a"])({},Object(h["d"])(["projects"])),methods:{close:function(){this.dialog=!1,this.$emit("closeDialogAddNewProject")},add:function(){this.dialog=!1,this.$emit("closeDialogAddNewProject",this.items[this.selectedRow])},onRowClick:function(e){this.selectedRow=e},setItems:function(){var e=this;this.usedProjects.forEach((function(t){var r=e.items.find((function(e){return e._id==t}));e.items.splice(e.items.indexOf(r),1)}))}},mounted:function(){var e=this;"manager"==this.currentEmployee.role||"staff"==this.currentEmployee.role?this.$store.dispatch("projects/fetchMyProjects").then((function(){e.items=e.projects.myProjects.data,e.setItems()})):this.$store.dispatch("projects/fetchProjects").then((function(){e.items=e.projects.projects.data.data,e.setItems()}))}},wr=Cr,jr=(r("a2f2"),Object(Q["a"])(wr,Er,_r,!1,null,null,null)),$r=jr.exports;W()(jr,{VBtn:ee["a"],VCard:Ue["a"],VCardActions:He["a"],VCardText:He["b"],VCardTitle:He["c"],VDataTable:et["a"],VDialog:tt["a"],VSpacer:de["a"],VTextField:rt["a"],VToolbar:at["a"]});var Sr={name:"TimesheetList",components:{TimesheetEditionDialog:xr,ProjectSelectionDialog:$r},created:function(){var e=this;this.$store.dispatch("timesheet/fetchTimesheet").then((function(){e.timesheetRecords=e.timesheet.timesheet.data.stats,e.setItemsTimesheet()})),this.date=this.startOfWeek(this.date)},data:function(){return{date:(new Date).toISOString().substr(0,10),dateFormatted:Object(Ye["b"])((new Date).toISOString().substr(0,10)),showCurrent:!0,menu:!1,dialogTSEdit:!1,dialogAddNewProject:!1,editedItem:{},timesheetRecords:[],itemsTimesheet:[]}},computed:Object(u["a"])(Object(u["a"])({},Object(h["d"])(["timesheet","authUser"])),{},{computedDateFormatted:function(){return Object(Ye["b"])(this.date)},currentWeekDays:function(){for(var e=new Date(this.date),t=[Object(Ye["a"])(this.date)],r=0;r<6;r++)e.setDate(e.getDate()+1),t.push(Object(Ye["a"])(e.toISOString().substr(0,10)));return t},headersTimesheet:function(){var e=[{text:"Code",value:"engagementCode",width:"120px"},{text:"Name",value:"clientName",width:"200px"},{text:"Hours YTD",value:"hoursYTD",border:"right"}];return this.currentWeekDays.forEach((function(t){e.push({text:"".concat(t,"\r\n(").concat(Object(Ye["c"])(t),")"),value:t})})),e},currentEmployee:function(){return this.authUser.user.data.user},usedProjects:function(){var e=this.itemsTimesheet.map((function(e){return e.project}));return e}}),watch:{date:function(e){this.dateFormatted=Object(Ye["b"])(this.date),this.date=this.startOfWeek(e)}},methods:{setItemsTimesheet:function(){var e=this;this.itemsTimesheet=[],this.timesheetRecords.forEach((function(t){var r={project:t._id,engagementCode:t.project.engagementCode,clientName:t.project.clientName,projectStages:t.project.stages,dates:t.dates,employee:e.currentEmployee._id,hoursYTD:t.hours};t.dates.forEach((function(e){var t=Object(Ye["b"])(e.date);r[t]=e.hours})),e.itemsTimesheet.push(r)}))},onRowClick:function(e,t){this.editedItem=Object.assign({},e),this.editedItem.day=t,this.dialogTSEdit=!0},sumDailyHours:function(e){return this.itemsTimesheet.reduce((function(t,r){return Number(t)+(Number(r[e])||0)}),0)},isWeekend:function(e){var t=new Date(Object(Ye["d"])(e));return 0===t.getDay()||6===t.getDay()},startOfWeek:function(e){var t=new Date(e),r=t.getDate()-t.getDay()+(0===t.getDay()?-6:1);return new Date(t.setDate(r)).toISOString().substr(0,10)},previousNextWeek:function(e){var t=new Date(Object(Ye["d"])(this.dateFormatted)),r=t.getDate()+e;this.date=new Date(t.setDate(r)).toISOString().substr(0,10)},closeTimesheetEditionDialog:function(){var e=this;this.dialogTSEdit=!1,this.$store.dispatch("timesheet/fetchTimesheet").then((function(){e.timesheetRecords=e.timesheet.timesheet.data.stats,e.setItemsTimesheet()}))},closeDialogAddNewProject:function(e){if(e){var t={project:e._id,engagementCode:e.engagementCode,clientName:e.clientName,projectStages:e.stages,dates:[],employee:this.currentEmployee._id};this.itemsTimesheet.push(t)}this.dialogAddNewProject=!1},addNewProject:function(){this.dialogAddNewProject=!0}}},Tr=Sr,Ir=(r("477e"),r("cc20")),Dr=r("2e4b"),kr=r("e449"),Or=Object(Q["a"])(Tr,sr,cr,!1,null,null,null),Vr=Or.exports;W()(Or,{VBtn:ee["a"],VChip:Ir["a"],VContainer:lt["a"],VDataTable:et["a"],VDatePicker:Dr["a"],VIcon:re["a"],VMenu:kr["a"],VSpacer:de["a"],VTextField:rt["a"],VToolbar:at["a"]});var Pr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-container",{attrs:{fluid:""}},[r("v-row",{staticClass:"child-flex"},[r("v-toolbar",[r("v-btn",{staticClass:"hidden-xs-only",attrs:{icon:""},on:{click:e.cancel}},[r("v-icon",[e._v("mdi-arrow-left")])],1),r("v-toolbar-title",[e._v(e._s(this.currentEmployee.name||"New employee"))]),r("v-spacer"),r("v-btn",{staticClass:"mr-2",attrs:{small:"",outlined:"",color:"success",dark:""}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-pencil")]),e._v(" Edit")],1)],1)],1),r("v-form",{on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[r("v-card",{staticClass:"mt-3"},[r("v-card-title",[e._v("Main")]),r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"First name","error-messages":e.firstNameErrors},on:{blur:function(t){return e.$v.currentEmployee.firstName.$touch()},input:e.inputFirstLastName},model:{value:e.currentEmployee.firstName,callback:function(t){e.$set(e.currentEmployee,"firstName",t)},expression:"currentEmployee.firstName"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Last name","error-messages":e.lastNameErrors},on:{blur:function(t){return e.$v.currentEmployee.lastName.$touch()},input:e.inputFirstLastName},model:{value:e.currentEmployee.lastName,callback:function(t){e.$set(e.currentEmployee,"lastName",t)},expression:"currentEmployee.lastName"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Full Name","error-messages":e.nameErrors},on:{blur:function(t){return e.$v.currentEmployee.name.$touch()}},model:{value:e.currentEmployee.name,callback:function(t){e.$set(e.currentEmployee,"name",t)},expression:"currentEmployee.name"}})],1)],1)],1)],1),r("v-card",{staticClass:"mt-3"},[r("v-card-title",[e._v("Job details")]),r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-select",{attrs:{items:e.departments,"item-text":"department","item-value":"_id",label:"Department","error-messages":e.departmentErrors},on:{blur:function(t){return e.$v.currentEmployee.department.$touch()}},model:{value:e.currentEmployee.department,callback:function(t){e.$set(e.currentEmployee,"department",t)},expression:"currentEmployee.department"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-select",{attrs:{items:e.positions,"item-text":"position","item-value":"_id",label:"Position","error-messages":e.positionErrors},on:{blur:function(t){return e.$v.currentEmployee.position.$touch()}},model:{value:e.currentEmployee.position,callback:function(t){e.$set(e.currentEmployee,"position",t)},expression:"currentEmployee.position"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-select",{attrs:{items:e.offices,"item-text":"office","item-value":"_id",label:"Office","error-messages":e.officeErrors},on:{blur:function(t){return e.$v.currentEmployee.office.$touch()}},model:{value:e.currentEmployee.office,callback:function(t){e.$set(e.currentEmployee,"office",t)},expression:"currentEmployee.office"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("BaseDatePicker",{attrs:{label:"Hired date",date:e.currentEmployee.hiredDate,required:"","error-messages":e.hiredDateErrors},on:{input:e.inputHiredDate,blur:function(t){return e.$v.currentEmployee.hiredDate.$touch()}},model:{value:e.currentEmployee.hiredDate,callback:function(t){e.$set(e.currentEmployee,"hiredDate",t)},expression:"currentEmployee.hiredDate"}})],1)],1)],1)],1),r("v-card",{staticClass:"mt-3"},[r("v-card-title",[e._v("User Account")]),r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{label:"Email","error-messages":e.emailErrors},on:{blur:function(t){return e.$v.currentEmployee.email.$touch()}},model:{value:e.currentEmployee.email,callback:function(t){e.$set(e.currentEmployee,"email",t)},expression:"currentEmployee.email"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-select",{attrs:{items:e.roles,"item-text":"role","item-value":"_id",label:"System role","error-messages":e.roleErrors},on:{blur:function(t){return e.$v.currentEmployee.role.$touch()}},model:{value:e.currentEmployee.role,callback:function(t){e.$set(e.currentEmployee,"role",t)},expression:"currentEmployee.role"}})],1)],1),e.isNewItemCreation?r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{type:e.showPassword?"text":"password",name:"password",label:"Password","prepend-icon":"mdi-lock","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off","error-messages":e.passwordErrors},on:{"click:append":function(t){e.showPassword=!e.showPassword},blur:function(t){return e.$v.password.$touch()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-text-field",{attrs:{type:e.showPassword?"text":"password",name:"passwordConfirm",label:"Confirm password","prepend-icon":"mdi-lock","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off","error-messages":e.passwordConfirmErrors},on:{"click:append":function(t){e.showPassword=!e.showPassword},blur:function(t){return e.$v.passwordConfirm.$touch()}},model:{value:e.passwordConfirm,callback:function(t){e.passwordConfirm=t},expression:"passwordConfirm"}})],1)],1):e._e(),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[r("v-switch",{attrs:{label:"Login allowed: "+this.labelLoginAllowed},model:{value:e.currentEmployee.active,callback:function(t){e.$set(e.currentEmployee,"active",t)},expression:"currentEmployee.active"}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.cancel}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)],1)},Nr=[],qr={name:"EmployeeCardPage",data:function(){return{menuHiredDate:!1,defaultEmployee:{},showPassword:!1,password:"",passwordConfirm:""}},props:{mode:{type:String,default:"Edit"}},validations:{currentEmployee:{firstName:{required:ot["required"],maxLength:Object(ot["maxLength"])(20),minLength:Object(ot["minLength"])(2)},lastName:{required:ot["required"],maxLength:Object(ot["maxLength"])(30),minLength:Object(ot["minLength"])(2)},name:{required:ot["required"],maxLength:Object(ot["maxLength"])(50),minLength:Object(ot["minLength"])(5)},email:{required:ot["required"],email:ot["email"]},department:{required:ot["required"]},position:{required:ot["required"]},office:{required:ot["required"]},role:{required:ot["required"]},hiredDate:{required:ot["required"]}},password:{required:Object(ot["requiredIf"])((function(){return"CreateNew"==this.mode})),minLength:Object(ot["minLength"])(8)},passwordConfirm:{required:Object(ot["requiredIf"])((function(){return"CreateNew"==this.mode})),sameAsPassword:Object(ot["sameAs"])("password")}},computed:Object(u["a"])(Object(u["a"])({},Object(h["d"])(["projects","authUser","employees"])),{},{currentEmployee:function(){return"CreateNew"==this.mode?this.defaultEmployee:this.employees.employee.data},computedHiredDate:function(){return Object(Ye["b"])(this.currentEmployee.hiredDate)},computedFullName:function(){return"".concat(this.currentEmployee.firstName||""," ").concat(this.currentEmployee.lastName||"")},hiredDateErrors:function(){var e=[];return this.$v.currentEmployee.hiredDate.$dirty?(!this.$v.currentEmployee.hiredDate.required&&e.push("Hired date is required"),e):e},firstNameErrors:function(){var e=[];return this.$v.currentEmployee.firstName.$dirty?(!this.$v.currentEmployee.firstName.required&&e.push("First name is required"),!this.$v.currentEmployee.firstName.minLength&&e.push("First name must be minimum 2 characters"),!this.$v.currentEmployee.firstName.maxLength&&e.push("First name must be maximum 20 characters"),e):e},lastNameErrors:function(){var e=[];return this.$v.currentEmployee.lastName.$dirty?(!this.$v.currentEmployee.lastName.required&&e.push("Last name is required"),!this.$v.currentEmployee.lastName.minLength&&e.push("Last name must be minimum 2 characters"),!this.$v.currentEmployee.lastName.maxLength&&e.push("Last name must be maximum 30 characters"),e):e},nameErrors:function(){var e=[];return this.$v.currentEmployee.name.$dirty?(!this.$v.currentEmployee.name.required&&e.push("Name is required"),!this.$v.currentEmployee.name.minLength&&e.push("Name must be minimum 5 characters"),!this.$v.currentEmployee.name.maxLength&&e.push("Name must be maximum 50 characters"),e):e},departmentErrors:function(){var e=[];return this.$v.currentEmployee.department.$dirty?(!this.$v.currentEmployee.department.required&&e.push("Department is required"),e):e},positionErrors:function(){var e=[];return this.$v.currentEmployee.position.$dirty?(!this.$v.currentEmployee.position.required&&e.push("Position is required"),e):e},officeErrors:function(){var e=[];return this.$v.currentEmployee.office.$dirty?(!this.$v.currentEmployee.office.required&&e.push("Office is required"),e):e},emailErrors:function(){var e=[];return this.$v.currentEmployee.email.$dirty?(!this.$v.currentEmployee.email.email&&e.push("Must be valid e-mail"),!this.$v.currentEmployee.email.required&&e.push("Email is required"),e):e},roleErrors:function(){var e=[];return this.$v.currentEmployee.role.$dirty?(!this.$v.currentEmployee.role.required&&e.push("System role is required"),e):e},passwordErrors:function(){var e=[];return this.$v.password.$dirty?(!this.$v.password.required&&e.push("Password is required"),!this.$v.password.minLength&&e.push("Password must be minimum 8 characters"),e):e},passwordConfirmErrors:function(){var e=[];return this.$v.passwordConfirm.$dirty?(!this.$v.passwordConfirm.required&&e.push("Password confirmation is required"),!this.$v.passwordConfirm.sameAsPassword&&e.push("Password and confirmation do not match"),e):e},labelLoginAllowed:function(){return this.currentEmployee.active?"YES":"NO"},isAdmin:function(){return"admin"==this.authUser.user.data.user.role},isNewItemCreation:function(){return"CreateNew"==this.mode},positions:function(){return Ut},offices:function(){return Ht},departments:function(){return Ft},roles:function(){return!this.isAdmin&&zt.indexOf("admin")>0&&zt.splice(zt.indexOf("admin"),1),zt}}),methods:{save:function(){var e=this;this.$v.$touch(),this.$vuetify.goTo(0),this.$v.$invalid||("Edit"==this.mode?this.$store.dispatch("employees/updateEmployee",this.currentEmployee).then((function(){e.cancel()})):"CreateNew"==this.mode&&(this.currentEmployee.password=this.password,this.currentEmployee.passwordConfirm=this.passwordConfirm,this.$store.dispatch("employees/createEmployee",this.currentEmployee).then((function(){e.cancel()}))))},cancel:function(){this.$store.dispatch("employees/clearCurrentEmployee"),this.$v.$reset(),this.$router.push({name:"Employees"})},inputHiredDate:function(){this.$v.currentEmployee.hiredDate.$touch()},inputFirstLastName:function(){this.currentEmployee.name=this.computedFullName}}},Ar=qr,Lr=r("b73d"),Mr=Object(Q["a"])(Ar,Pr,Nr,!1,null,null,null),Rr=Mr.exports;W()(Mr,{VBtn:ee["a"],VCard:Ue["a"],VCardActions:He["a"],VCardText:He["b"],VCardTitle:He["c"],VCol:dt["a"],VContainer:lt["a"],VForm:Vt["a"],VIcon:re["a"],VRow:vt["a"],VSelect:ft["a"],VSpacer:de["a"],VSwitch:Lr["a"],VTextField:rt["a"],VToolbar:at["a"],VToolbarTitle:le["a"]});var Ur=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"NotFound"},[r("v-container",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card",{attrs:{height:"400",color:"transparent",flat:""}},[r("div",{staticClass:"display-3 mt-5"},[e._v("Page not found.")]),r("div",{staticClass:"grey--text lighten-5"},[e._v(" The page you are trying to get to never existed in this reality, or has migrated to a parallel universe. ")]),r("div",{staticClass:"paragraph-text mt-2"},[r("br"),r("br"),e._v("Try going back to home page and repeating your action. Or, contact helpdesk for support. ")])])],1)],1)],1)],1)},Hr=[],Fr=(r("1610"),r("0e8f")),Br=r("a722"),zr={},Kr=Object(Q["a"])(zr,Ur,Hr,!1,null,null,null),Yr=Kr.exports;W()(Kr,{VCard:Ue["a"],VContainer:lt["a"],VFlex:Fr["a"],VLayout:Br["a"]});var Zr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"NotFound"},[r("v-container",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-card",{attrs:{height:"400",color:"transparent",flat:""}},[r("div",{staticClass:"display-3 mt-5"},[e._v("Error")]),r("div",{staticClass:"grey--text lighten-5"},[e._v(" It looks like you're experiencing some errors. ")]),r("div",{staticClass:"paragraph-text mt-2"},[r("br"),r("br"),e._v("Please click the back button and try again. ")])])],1)],1)],1)],1)},Qr=[],Jr=(r("6f06"),{}),Wr=Object(Q["a"])(Jr,Zr,Qr,!1,null,null,null),Gr=Wr.exports;W()(Wr,{VCard:Ue["a"],VContainer:lt["a"],VFlex:Fr["a"],VLayout:Br["a"]}),c["a"].use(Pe["a"]);var Xr=[{path:"/",name:"Dashboard",component:Tt},{path:"/login",name:"Login",component:Nt},{path:"/projects",name:"Projects",component:Xt},{path:"/employees",name:"Employees",component:or},{path:"/timesheet",name:"Timesheet",component:Vr},{path:"/employees/:id",name:"EmployeeEdit",component:Rr,props:!0,beforeEnter:function(e,t,r){z(),F.dispatch("employees/fetchEmployee",e.params.id).then((function(){r()})).catch((function(e){e.response&&404==e.response.status?r({name:"404"}):r({name:"Error"})}))}},{path:"/employees/create",name:"EmployeeCreate",component:Rr,props:{mode:"CreateNew"}},{path:"/404",name:"404",component:Yr,props:!0},{path:"/network-issue",name:"Error",component:Gr},{path:"*",redirect:{name:"404"}}],ea=new Pe["a"]({mode:"history",base:"/",routes:Xr}),ta=ea,ra=r("bc3a"),aa=r.n(ra),ia=r("1dce"),na=r.n(ia),oa=function(e){var t=new Number(e);return t.toLocaleString("en")},sa=function(e){if(!e)return null;var t=e.substr(0,10).split("-"),r=Object(Rt["a"])(t,3),a=r[0],i=r[1],n=r[2];return"".concat(n,".").concat(i,".").concat(a)},ca=r("8103"),da=r.n(ca),la=r("bba4"),ua=r.n(la);c["a"].use(na.a),c["a"].filter("amount",oa),c["a"].filter("dateShort",sa),c["a"].config.productionTip=!1;var ma=r("ef13");ma.keys().forEach((function(e){var t=ma(e),r=da()(ua()(e.replace(/^\.\/(.*)\.\w+$/,"$1")));c["a"].component(r,t.default||t)})),new c["a"]({router:ta,vuetify:Ve,store:F,created:function(){var e=this;z(),K()||(this.$store.dispatch("authUser/logout"),delete aa.a.defaults.headers.common["Authorization"]),aa.a.interceptors.response.use((function(e){return e}),(function(t){return 401===t.response.status&&(e.$store.dispatch("authUser/logout"),delete aa.a.defaults.headers.common["Authorization"]),Promise.reject(t)}))},render:function(e){return e(ke)}}).$mount("#app")},6:function(e,t){},"6f06":function(e,t,r){"use strict";var a=r("54d3"),i=r.n(a);i.a},7:function(e,t){},"7f8e":function(e,t,r){},8:function(e,t){},8883:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return n})),r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return s}));r("99af"),r("fb6a"),r("ac1f"),r("4d90"),r("1276");var a=r("3835");function i(e){var t=new Date(e),r=("0"+t.getDate()).slice(-2)+"."+("0"+(t.getMonth()+1)).slice(-2)+"."+t.getFullYear();return r}function n(e){if(!e)return null;var t=e.substr(0,10).split("-"),r=Object(a["a"])(t,3),i=r[0],n=r[1],o=r[2];return"".concat(o,".").concat(n,".").concat(i)}function o(e){if(!e)return null;var t=e.split("."),r=Object(a["a"])(t,3),i=r[0],n=r[1],o=r[2];return"".concat(o,"-").concat(n.padStart(2,"0"),"-").concat(i.padStart(2,"0"))}function s(e){var t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=new Date(o(e));return t[r.getDay()]}},"899e":function(e,t,r){},"8e03":function(e){e.exports=JSON.parse('[{"title":"My Total Average Utilzation","value":"65 %"}]')},9:function(e,t){},"9b19":function(e,t,r){e.exports=r.p+"img/logo.1198b4e0.svg"},"9e98":function(e,t,r){},a2f2:function(e,t,r){"use strict";var a=r("899e"),i=r.n(a);i.a},ef13:function(e,t,r){var a={"./BaseDatePicker.vue":"448f"};function i(e){var t=n(e);return r(t)}function n(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=n,e.exports=i,i.id="ef13"}});
//# sourceMappingURL=app.4b92425a.js.map